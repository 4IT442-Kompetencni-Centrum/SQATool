@import views.data.MenuDto
@import views.data.ProjectDto
@(projects: List[ProjectDto], submenu: List[MenuDto], numberOfPages: Int, activePage: Integer)
@main("Projekty", "projects", submenu){
<script src="@routes.Assets.at("javascripts/projects/projects.js")" type="text/javascript"></script>
	<h1>Projekty</h1>
	<table class="table table-striped table-hover">
		<tr>
			<th>#</th>
			<th>Název</th>
			<th colspan='2'>Operace</th>
		</tr>
		@for(index <- 0 until projects.size) {
		<tr>
			<td>@(index+1)</td>
			<td><a href="@routes.ProjectController.detail(projects(index).getProjectId())"><strong>@Html(projects(index).getShortcut()):</strong> @Html(projects(index).getName())</a></td>
			<td>
			@if(projects(index).isCanBeModified()) {
			<a href="@routes.ProjectController.edit(projects(index).getProjectId())" class="btn btn-default">
  				<span class="glyphicon glyphicon-cog" aria-hidden="true"></span> 
			</a>
			}
			@if(projects(index).isCanBeDeleted()) {
			<button data-projectName="@Html(projects(index).getName())" data-projectId="@projects(index).getProjectId()" data-projectDeleteUrl="@routes.ProjectController.delete(projects(index).getProjectId())" class="btn btn-danger deleteButton">
  				<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> 
			</button>
			}
			</td>
		</tr>
		}
	</table>
	
	<ul class="pagination">
	@for(page <- 0 until numberOfPages) {
		<li @if(page == activePage) { class="active" }><a href="@routes.ProjectController.showAll(page)">@(page+1)</a></li>
	}
	</ul>

<div id="deleteWarning" class="modal fade" tabindex="-1"
	role="dialog" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h3>Jste si jistý?</h3>
			</div>
			<div class="modal-body">
				<p>Opravdu si přejete smazat projekt <span class="projectName"></span> s ID <span class="projectID"></span>?
				</p>
			</div>
			<div class="modal-footer">
				<button class="btn btn-success" id="deleteCancel">Ne</button>
				<a href="genegatedValue" class="btn btn-danger deleteConfirm">Ano</a>
			</div>
		</div>
	</div>
</div>
}